<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Weather Outfit Picker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!--
    ‚ö† NOTE FOR YOU:
    Replace API_KEY inside the JS (near bottom) with your OpenWeather API key.
    This text will not appear on your website.
  -->

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #02313a;
      background: linear-gradient(-45deg, #4facfe, #00f2fe, #43e97a, #fdfd96);
      background-size: 400% 400%;
      animation: gradientBG 16s ease infinite;
      position: relative;
      overflow: hidden;
    }

    body::after {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 200%; height: 100%;
      background: url('https://i.ibb.co/4pDNDk1/clouds.png') repeat-x;
      opacity: 0.18;
      animation: cloudMove 70s linear infinite;
      z-index: 0;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes cloudMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .card {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 620px;
      background: rgba(255,255,255,0.22);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.18);
    }

    h1 {
      margin: 0;
      font-size: 20px;
      color: #ffffff;
      text-shadow: 0 2px 4px rgba(0,0,0,0.25);
      text-align: center;
    }

    .subtitle {
      font-size: 12px;
      text-align: center;
      color: rgba(255,255,255,0.9);
      margin-bottom: 12px;
    }

    .input-row {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    input {
      flex: 1;
      padding: 10px;
      border-radius: 10px;
      border: none;
      font-size: 14px;
      outline: none;
      font-weight: 500;
    }

    button {
      padding: 10px 12px;
      border-radius: 10px;
      border: none;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(90deg, #ff758c, #ff7eb3);
      color: #fff;
    }

    .grid {
      margin-top: 12px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media(max-width: 640px){
      .grid { grid-template-columns: 1fr; }
    }

    .panel {
      background: rgba(255,255,255,0.88);
      border-radius: 14px;
      padding: 14px;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }
    .chip {
      background: rgba(4,58,71,0.08);
      padding: 4px 7px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 500;
    }

    .temp {
      font-size: 34px;
      font-weight: 600;
    }

    .avatar {
      width: 65px;
      height: 65px;
      border-radius: 15px;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      margin-right: 10px;
    }

    pre {
      background: #f6fbfc;
      padding: 10px;
      border-radius: 10px;
      white-space: pre-wrap;
      font-size: 13px;
      color: #022f38;
    }

    .bottom-row {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }

  </style>
</head>
<body>

<div class="card">

  <h1>AI WEATHER-BASED CLOTHES RECOMENDATION SYSYTEMSüå¶Ô∏è</h1>
  <p class="subtitle">Your style guide ‚Äî powered by real weather.</p>

  <div class="input-row">
    <input id="city" type="text" placeholder="Enter city (e.g. Dubai)">
    <button id="btn">Get Recommendation</button>
  </div>

  <div class="grid">
    <!-- Weather Panel -->
    <div class="panel">
      <div id="cityName">City: ‚Äî</div>
      <div id="timeLocal" style="font-size:12px;color:#3a6b72;margin-bottom:6px;">Local time: ‚Äî</div>

      <div style="display:flex;justify-content:space-between;align-items:flex-end;">
        <div>
          <div class="temp" id="temp">--¬∞C</div>
          <div style="font-size:12px;color:#396872" id="feels">Feels: ‚Äî¬∞C</div>
        </div>
        <div style="text-align:right;">
          <div id="desc" style="text-transform:capitalize;font-size:13px;">‚Äî</div>
          <div style="font-size:12px;color:#396872" id="comfort">Comfort: ‚Äî</div>
        </div>
      </div>

      <div class="chips" id="chips"></div>
      <div id="mood" style="margin-top:8px;font-size:12px;color:#21545c;">Weather mood will appear here.</div>
    </div>

    <!-- Outfit Panel -->
    <div class="panel">
      <div style="font-weight:600;margin-bottom:6px;">üéØ Outfit Recommendation</div>

      <pre id="recBox">No data yet. Search a city.</pre>

      <div class="bottom-row">
        <div class="avatar" id="avatar">üëï</div>
        <div>
          <div style="font-size:13px;" id="outfitText">‚Äî</div>
          <div style="font-size:11px;color:#2c5b63;" id="funFact">‚Äî</div>
        </div>
      </div>
    </div>
  </div>

</div>


<script>
// -------------------------
// LOGIC (simple, unique)
// -------------------------

const API_KEY = "026f9e71bbd20786da6bcdc7329d256c"; // <-- Your Key

const cityInput = document.getElementById('city');
const btn = document.getElementById('btn');

const cityNameEl = document.getElementById('cityName');
const timeLocalEl = document.getElementById('timeLocal');
const tempEl = document.getElementById('temp');
const feelsEl = document.getElementById('feels');
const descEl = document.getElementById('desc');
const comfortEl = document.getElementById('comfort');
const chipsEl = document.getElementById('chips');
const moodEl = document.getElementById('mood');
const recBox = document.getElementById('recBox');
const avatarEl = document.getElementById('avatar');
const outfitTextEl = document.getElementById('outfitText');
const funFactEl = document.getElementById('funFact');

function comfortLevel(feels, humidity){
  if (feels >= 34) return "Very hot";
  if (feels >= 27) return humidity > 70 ? "Humid hot" : "Warm";
  if (feels >= 20) return "Comfortable";
  if (feels >= 12) return "Cool";
  return "Cold";
}

function moodLine(feels, humidity, rain){
  if (rain >= 70) return "Rainy mood ‚òî ‚Äî soft layers feel nice today.";
  if (feels >= 32) return "Spicy heat ü•µ ‚Äî keep clothes ultra-light.";
  if (feels >= 22) return "Easy warm day üòé ‚Äî relaxed casual fits.";
  if (feels < 10) return "Cold & crisp ‚ùÑÔ∏è ‚Äî layering time!";
  return "Balanced vibes üåà ‚Äî dress as you like.";
}

function pickAvatar(feels){
  if (feels >= 32) return "üëïü©≥";
  if (feels >= 25) return "üëïüëñ";
  if (feels >= 18) return "üß•üëñ";
  if (feels >= 10) return "üß•üß£";
  return "üß•üß§";
}

function funFact(temp, humidity, rain){
  if (humidity > 80 && temp > 25)
    return "Humidity slows sweat evaporation ‚Äî makes it feel hotter.";
  if (temp < 8)
    return "Layering traps warm air ‚Äî better than one thick jacket.";
  if (rain > 60)
    return "Dark clouds increase infrared radiation ‚Äî air cools faster.";
  return "Lighter colors reflect heat ‚Äî great for sunny days.";
}

function recommend(temp, feels, humidity, rain, wind){
  const t = feels;
  let r = [];

  if (t >= 32) r.push("‚Ä¢ Ultra-light cotton/linen. Shorts recommended.");
  else if (t >= 25) r.push("‚Ä¢ T-shirt + light pants.");
  else if (t >= 18) r.push("‚Ä¢ Tee/shirt + light jacket.");
  else if (t >= 10) r.push("‚Ä¢ Sweater + jacket.");
  else r.push("‚Ä¢ Thermal + heavy jacket, scarf & gloves.");

  if (rain >= 60) r.push("‚Ä¢ Rain likely ‚Äî bring umbrella or raincoat.");
  else if (rain >= 30) r.push("‚Ä¢ Might drizzle ‚Äî keep a small umbrella.");

  if (humidity >= 80) r.push("‚Ä¢ Humid ‚Äî choose breathable fabrics.");

  if (wind >= 35) r.push("‚Ä¢ Windy ‚Äî windproof jacket helps.");

  r.push(`‚Ä¢ Shoes: ${rain > 50 ? "Waterproof" : "Normal sneakers"}.\n`);

  return r.join("\n");
}

btn.addEventListener('click', getWeather);
cityInput.addEventListener('keydown', e => { if (e.key === "Enter") getWeather(); });

async function getWeaather(){
  const city = cityInput.value.trim();
  if (!city) return alert("Enter a city name.");

  btn.disabled = true;
  btn.innerText = "Loading...";

  recBox.innerText = "Loading...";

  try {
    // Current weather
    const curUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${API_KEY}`;
    const curRes = await fetch(curUrl);
    const cur = await curRes.json();

    if (!cur.main) {
      recBox.innerText = "City not found.";
      btn.disabled = false;
      btn.innerText = "Get Outfit";
      return;
    }

    const temp = cur.main.temp;
    const feels = cur.main.feels_like;
    const humidity = cur.main.humidity;
    const wind = cur.wind.speed * 3.6;
    const pressure = cur.main.pressure;
    const desc = cur.weather[0].description;

    // Forecast POP
    let rainProb = 0;
    const fRes = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=metric&appid=${API_KEY}`);
    if (fRes.ok){
      const f = await fRes.json();
      if (f.list && f.list[0]) {
        rainProb = Math.round(f.list[0].pop * 100);
      }
    }

    // UI updates
    cityNameEl.innerText = `City: ${cur.name}, ${cur.sys.country}`;
    timeLocalEl.innerText = "Local time: " + new Date().toLocaleString();
    tempEl.innerText = `${Math.round(temp)}¬∞C`;
    feelsEl.innerText = `Feels: ${Math.round(feels)}¬∞C`;
    descEl.innerText = desc;

    comfortEl.innerText = "Comfort: " + comfortLevel(feels, humidity);
    moodEl.innerText = moodLine(feels, humidity, rainProb);

    chipsEl.innerHTML = "";
    ["Humidity: " + humidity + "%",
     "Rain: " + rainProb + "%",
     "Wind: " + wind.toFixed(1) + " km/h",
     "Pressure: " + pressure + " hPa"
    ].forEach(c => {
      let div = document.createElement('div');
      div.className = "chip";
      div.innerText = c;
      chipsEl.appendChild(div);
    });

    recBox.innerText =
      `Temp: ${temp.toFixed(1)}¬∞C (feels ${feels.toFixed(1)}¬∞C)
Weather: ${desc}
Rain: ${rainProb}%
Wind: ${wind.toFixed(1)} km/h\n\n` +
      recommend(temp, feels, humidity, rainProb, wind);

    avatarEl.innerText = pickAvatar(feels);
    outfitTextEl.innerText = comfortLevel(feels, humidity) +
      (rainProb > 40 ? " ¬∑ Carry rain gear." : " ¬∑ Clear skies vibe.");
    funFactEl.innerText = funFact(temp, humidity, rainProb);

  } catch (err) {
    recBox.innerText = "Could not load weather.";
  }

  btn.disabled = false;
  btn.innerText = "Get Outfit";
}

</script>

</body>
</html>
